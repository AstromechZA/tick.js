(function(e){function a(e){this._d=l(e);this._YYYY=this._d.getFullYear();this._MM=h(this._d.getMonth()+1,2);this._D=""+this._d.getDate();this._DD=h(this._d.getDate(),2);this._hh=h(this._d.getHours(),2);this._mm=h(this._d.getMinutes(),2);this._ss=h(this._d.getSeconds(),2);this._zzz=h(this._d.getMilliseconds(),3);this._tz=f(this._d.getTimezoneOffset());this._day=i[this._d.getDay()];this._month=s[this._d.getMonth()];this._knownTimezoneOffset=this._d.getTimezoneOffset()}function f(e){if(e==0)return"+00:00";v=Math.abs(e);return(e>0?"-":"+")+h(Math.floor(v/60),2)+":"+h(v%60,2)}function l(t){if(t===e){return new Date}else if(c(t)){return new Date(+t)}else if(typeof t=="number"){return new Date(t)}else if(typeof t=="string"){return new Date(t)}}function c(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function h(e,t){e=e+"";nl=e.length;return nl>=t?e:(new Array(t-nl+1)).join("0")+e}var t,n=typeof global!=="undefined"?global:this,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],o=/((?:UTC)|(?:GMT))(?:([+-])(\d\d?)(?::(\d\d))?)?/,u={PST:480,SAST:-120,PDT:420};a.prototype.toString=function(t){if(t===e)t="%dd %month %YYYY %hh:%mm:%ss.%zzz %tz";ns=t.replace("%YYYY",this._YYYY);ns=ns.replace("%MM",this._MM);ns=ns.replace("%dd",this._D);ns=ns.replace("%DD",this._DD);ns=ns.replace("%hh",this._hh);ns=ns.replace("%mm",this._mm);ns=ns.replace("%ss",this._ss);ns=ns.replace("%zzz",this._zzz);ns=ns.replace("%tz",this._tz);ns=ns.replace("%dayofweek",this._day);return ns.replace("%month",this._month)};a.prototype.toISO8601=function(){return""+this._YYYY+"-"+this._MM+"-"+this._DD+"T"+this._hh+":"+this._mm+":"+this._ss+"."+this._zzz+this._tz};a.prototype.eq=function(e){if(typeof input=="string")return(new Date(e)).valueOf()==this.valueOf();return e.valueOf()==this.valueOf()};a.prototype.valueOf=function(){return this._d.valueOf()};a.prototype.shiftToOffset=function(e){if(typeof e!="number")return null;r=new a(this.valueOf()+this._knownTimezoneOffset*6e4-e*6e4);r._d=new Date(this.valueOf());r._tz=f(e);r._knownTimezoneOffset=e;return r};a.prototype.shiftToTZ=function(e){m=o.exec(e);if(m!=null){m[2]=m[2]||"";m[3]=m[3]||"";m[4]=m[4]||"";offset=(m[2]=="+"?-1:1)*Number(m[3])*60+Number(m[4]);return this.shiftToOffset(offset)}if(e in u)return this.shiftToOffset(u[e]);return null};a.prototype.add=function(e){return new a(this.valueOf()+e)};a.prototype.subtract=function(e){return this.add(-e)};a.prototype.getDate=function(){return this._d};t=function(e){return new a(e)};n.tick=t}).call(this)